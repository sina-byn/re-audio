"use strict";(self.webpackChunkre_audio=self.webpackChunkre_audio||[]).push([[602],{7717:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>s,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>d});var a=r(4848),t=r(8453);r(2397);const i={sidebar_position:2},o="Composition Patterns",l={id:"composition-patterns",title:"Composition Patterns",description:"---",source:"@site/docs/composition-patterns.mdx",sourceDirName:".",slug:"/composition-patterns",permalink:"/re-audio/docs/composition-patterns",draft:!1,unlisted:!1,editUrl:"https://github.com/sina-byn/re-audio-4/tree/main/packages/www/docs/composition-patterns.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Getting Started",permalink:"/re-audio/docs/getting-started"},next:{title:"useVisualizer",permalink:"/re-audio/docs/audio-visualizers/useVisualizer"}},s={},d=[{value:"1. <code>&lt;Audio /&gt;</code> function as children",id:"1-audio--function-as-children",level:2},{value:"2. The <code>useAudio</code> hook",id:"2-the-useaudio-hook",level:2},{value:"3. The combined approach",id:"3-the-combined-approach",level:2}];function c(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",...(0,t.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"composition-patterns",children:"Composition Patterns"})}),"\n",(0,a.jsx)(e.hr,{}),"\n",(0,a.jsx)(e.p,{children:"There are two main ways to use this package, and combining both methods offers a third approach:"}),"\n",(0,a.jsxs)(e.ol,{children:["\n",(0,a.jsx)(e.li,{children:(0,a.jsxs)(e.a,{href:"#1-audio--function-as-children",children:[(0,a.jsx)(e.code,{children:"<Audio />"})," function as children"]})}),"\n",(0,a.jsx)(e.li,{children:(0,a.jsxs)(e.a,{href:"#2-the-useaudio-hook",children:["The ",(0,a.jsx)(e.code,{children:"useAudio"})," hook"]})}),"\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.a,{href:"#3-the-combined-approach",children:"The combined approach"})}),"\n"]}),"\n",(0,a.jsxs)(e.h2,{id:"1-audio--function-as-children",children:["1. ",(0,a.jsx)(e.code,{children:"<Audio />"})," function as children"]}),"\n",(0,a.jsxs)(e.p,{children:["Passing a function as React children to the ",(0,a.jsx)(e.code,{children:"<Audio />"})," component :"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"// AudioPlayer.tsx\r\n\r\nimport { Audio } from '@sina_byn/re-audio';\r\n\r\nconst AudioPlayer = () => {\r\n  return (\r\n    <Audio\r\n      playlist={[\r\n        { id: 1, src: '/audio/1.mp3', name: 'for-her-chill' },\r\n        { id: 2, src: '/audio/2.mp3', name: 'trap-type-beat-rap-instrumental-riff' },\r\n        { id: 3, src: '/audio/3.mp3', name: 'whip-afro-dancehall' },\r\n      ]}\r\n    >\r\n      {audioContext => (\r\n        <>\r\n          <button type='button'>{audioContext.playing ? 'pause' : 'play'}</button>\r\n        </>\r\n      )}\r\n    </Audio>\r\n  );\r\n};\r\n\r\nexport default AudioPlayer;\n"})}),"\n",(0,a.jsxs)(e.h2,{id:"2-the-useaudio-hook",children:["2. The ",(0,a.jsx)(e.code,{children:"useAudio"})," hook"]}),"\n",(0,a.jsxs)(e.p,{children:["Using the context provided by the ",(0,a.jsx)(e.code,{children:"<Audio />"})," component via the ",(0,a.jsx)(e.code,{children:"useAudio"})," hook :"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"// PlaybackControls.tsx\r\n\r\nimport { useAudio } from '@sina_byn/re-audio';\r\n\r\nconst PlaybackControls = () => {\r\n  const { playing, togglePlay, prevTrack, nextTrack, rewindTrack, forwardTrack } = useAudio();\r\n\r\n  return (\r\n    <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>\r\n      <button type='button' onClick={rewindTrack.bind(null, 10)}>\r\n        rewind\r\n      </button>\r\n\r\n      <button type='button' onClick={prevTrack}>\r\n        prev\r\n      </button>\r\n\r\n      <button type='button' onClick={togglePlay}>\r\n        {playing ? 'pause' : 'play'}\r\n      </button>\r\n\r\n      <button type='button' onClick={nextTrack}>\r\n        next\r\n      </button>\r\n\r\n      <button type='button' onClick={forwardTrack.bind(null, 10)}>\r\n        forward\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlaybackControls;\n"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"// AudioPlayer.tsx\r\n\r\nimport { Audio } from '@sina_byn/re-audio';\r\n\r\n// * components\r\nimport PlaybackControls from './PlaybackControls';\r\n\r\nconst AudioPlayer = () => {\r\n  return (\r\n    <Audio\r\n      playlist={[\r\n        { id: 1, src: '/audio/1.mp3', name: 'for-her-chill' },\r\n        { id: 2, src: '/audio/2.mp3', name: 'trap-type-beat-rap-instrumental-riff' },\r\n        { id: 3, src: '/audio/3.mp3', name: 'whip-afro-dancehall' },\r\n      ]}\r\n    >\r\n      <PlaybackControls />\r\n    </Audio>\r\n  );\r\n};\r\n\r\nexport default AudioPlayer;\n"})}),"\n",(0,a.jsx)(e.h2,{id:"3-the-combined-approach",children:"3. The combined approach"}),"\n",(0,a.jsx)(e.p,{children:"To have the best of both worlds, feel free to do:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"// AudioPlayer.tsx\r\n\r\nimport { Audio, formatTime } from '@sina_byn/re-audio';\r\n\r\n// * components\r\nimport PlaybackControls from './PlaybackControls';\r\n\r\nconst AudioPlayer = () => {\r\n  return (\r\n    <Audio\r\n      playlist={[\r\n        { id: 1, src: '/audio/1.mp3', name: 'for-her-chill' },\r\n        { id: 2, src: '/audio/2.mp3', name: 'trap-type-beat-rap-instrumental-riff' },\r\n        { id: 3, src: '/audio/3.mp3', name: 'whip-afro-dancehall' },\r\n      ]}\r\n    >\r\n      {audioContext => (\r\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\r\n          <span>{formatTime(audioContext.currentTime)}</span>\r\n          <PlaybackControls />\r\n        </div>\r\n      )}\r\n    </Audio>\r\n  );\r\n};\r\n\r\nexport default AudioPlayer;\n"})})]})}function u(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(c,{...n})}):c(n)}},2397:(n,e,r)=>{r.d(e,{A:()=>b});var a=r(1629),t=r(3626),i=r(5775),o=r(780),l=r(8425),s=r(6422),d=r(292),c=r(3124),u=r(3956),p=r(584),m=r(2874),h=r(9955),x=r(43),f=r(4848);const b=()=>(0,f.jsx)(o.A,{code:"// AudioPlayer.tsx\n\nimport { Audio } from '@sina_byn/re-audio';\n\nconst App = () => {\n    return (\n      <div className='re-audio-sample'>\n        <Audio\n          playlist={[\n            { id: 1, src: '/audio/1.mp3', name: 'for-her-chill' },\n            { id: 2, src: '/audio/2.mp3', name: 'trap-type-beat-rap-instrumental-riff' },\n            { id: 3, src: '/audio/3.mp3', name: 'whip-afro-dancehall' },\n          ]}\n        >\n          {({\n            loading,\n            trackIndex,\n            playlist,\n            playing,\n            togglePlay,\n            duration,\n            currentTime,\n            volume,\n            setVolume,\n            prevTrack,\n            nextTrack,\n            rewindTrack,\n            forwardTrack,\n            setCurrentTime,\n          }) => (\n            <div>\n              <div className='flex'>\n                <div className='flex max-md:flex-col justify-between gap-4 w-full'>\n                  <div className='flex items-center gap-4'>\n                    <div className='size-[60px] bg-[#c4c4c4] rounded' />\n\n                    <div className='flex flex-col'>\n                      <span className='capitalize'>\n                        {/* @ts-ignore */}\n                        {playlist[trackIndex].name.split(/-/).join(' ')}\n                      </span>\n                      <span>{formatTime(currentTime)}</span>\n                    </div>\n                  </div>\n\n                  <div className='flex items-center max-md:justify-center gap-x-4'>\n                    <button type='button' onClick={rewindTrack.bind(null, 10)}>\n                      <IconPlayerSkipBackFilled />\n                    </button>\n\n                    <button type='button' onClick={prevTrack}>\n                      <IconPlayerTrackPrevFilled />\n                    </button>\n\n                    <button type='button' onClick={togglePlay}>\n                      {playing ? <IconPlayerPauseFilled /> : <IconPlayerPlayFilled />}\n                    </button>\n\n                    <button type='button' onClick={nextTrack}>\n                      <IconPlayerTrackNextFilled />\n                    </button>\n\n                    <button type='button' onClick={forwardTrack.bind(null, 10)}>\n                      <IconPlayerSkipForwardFilled />\n                    </button>\n                  </div>\n                </div>\n              </div>\n\n              <div className='mt-4'>\n                <input\n                  type='range'\n                  min='0'\n                  max={duration}\n                  step='1'\n                  className='w-full'\n                  value={currentTime}\n                  onChange={e => setCurrentTime(+e.currentTarget.value)}\n                />\n              </div>\n\n              <div className='flex items-center justify-between gap-x-4'>\n                <div className='flex items-center gap-x-2 mt-4'>\n                  <IconVolume2 />\n\n                  <input\n                    type='range'\n                    min='0'\n                    max='100'\n                    className='w-full md:w-[150px]'\n                    value={volume}\n                    onChange={e => setVolume(+e.currentTarget.value)}\n                  />\n\n                  <IconVolume />\n                </div>\n\n                {loading && <span className='max-lg:text-sm mt-2'>loading...</span>}\n              </div>\n            </div>\n          )}\n        </Audio>\n      </div>\n    );\n};\n\nexport default App;\n",children:(0,f.jsx)("div",{className:"re-audio-sample",children:(0,f.jsx)(l.fP,{playlist:[{id:1,src:a.A,name:"for-her-chill"},{id:2,src:t.A,name:"trap-type-beat-rap-instrumental-riff"},{id:3,src:i.A,name:"whip-afro-dancehall"}],children:n=>{let{loading:e,trackIndex:r,playlist:a,playing:t,togglePlay:i,duration:o,currentTime:b,volume:y,setVolume:j,prevTrack:g,nextTrack:k,rewindTrack:v,forwardTrack:A,setCurrentTime:T}=n;return(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{className:"flex",children:(0,f.jsxs)("div",{className:"flex max-md:flex-col justify-between gap-4 w-full",children:[(0,f.jsxs)("div",{className:"flex items-center gap-4",children:[(0,f.jsx)("div",{className:"size-[60px] bg-[#c4c4c4] rounded"}),(0,f.jsxs)("div",{className:"flex flex-col",children:[(0,f.jsx)("span",{className:"capitalize",children:a[r].name.split(/-/).join(" ")}),(0,f.jsx)("span",{children:(0,l.fU)(b)})]})]}),(0,f.jsxs)("div",{className:"flex items-center max-md:justify-center gap-x-4",children:[(0,f.jsx)("button",{type:"button",onClick:v.bind(null,10),children:(0,f.jsx)(s.A,{})}),(0,f.jsx)("button",{type:"button",onClick:g,children:(0,f.jsx)(d.A,{})}),(0,f.jsx)("button",{type:"button",onClick:i,children:t?(0,f.jsx)(c.A,{}):(0,f.jsx)(u.A,{})}),(0,f.jsx)("button",{type:"button",onClick:k,children:(0,f.jsx)(p.A,{})}),(0,f.jsx)("button",{type:"button",onClick:A.bind(null,10),children:(0,f.jsx)(m.A,{})})]})]})}),(0,f.jsx)("div",{className:"mt-4",children:(0,f.jsx)("input",{type:"range",min:"0",max:o,step:"1",className:"w-full",value:b,onChange:n=>T(+n.currentTarget.value)})}),(0,f.jsxs)("div",{className:"flex items-center justify-between gap-x-4",children:[(0,f.jsxs)("div",{className:"flex items-center gap-x-2 mt-4",children:[(0,f.jsx)(h.A,{}),(0,f.jsx)("input",{type:"range",min:"0",max:"100",className:"w-full md:w-[150px]",value:y,onChange:n=>j(+n.currentTarget.value)}),(0,f.jsx)(x.A,{})]}),e&&(0,f.jsx)("span",{className:"max-lg:text-sm mt-2",children:"loading..."})]})]})}})})})}}]);